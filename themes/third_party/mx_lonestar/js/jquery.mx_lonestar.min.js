(function(e){e.fn.mx_lonestar=function(t){function r(t,n){if(n>0){var r=t.parents("td:first");var i=t.parents("tr:first");for(var s=0;s<i.children().length;s++){if(i.children().get(s)==r[0]){var o=s+1;break}}chk_count=t.attr("checked")?-1:0;var u=t.parents("table:first").find(" tr:gt(0)");u.children("td:nth-child("+o+")").each(function(){checkBox=e(this).find("span:first");if(n==1){originalCheckBox=e(this).find("input:checkbox:first");if(originalCheckBox[0]!=t[0]){checkBox.removeClass("checked");var r=false;originalCheckBox.attr("checked",r)}}chk_count=checkBox.hasClass("checked")?chk_count+1:chk_count});if(n>=1&&n>chk_count){return true}else{return false}}return true}function i(t,n){if(n>0){var r=t.parents("td:first");var i=t.parents("tr:first");var s=t.parents("tr:first");for(var o=0;o<i.children().length;o++){if(i.children().get(o)==r[0]){var u=o+1;break}}chk_count=t.attr("checked")?-1:0;var a=t.parents("tr:first").find("td");a.find(".lonestar").each(function(){checkBox=e(this).next("span:first");if(n==1){originalCheckBox=e(this);if(originalCheckBox[0]!=t[0]){checkBox.removeClass("checked");var r=false;originalCheckBox.attr("checked",r)}}chk_count=checkBox.hasClass("checked")?chk_count+1:chk_count});if(n>=1&&n>chk_count){return true}else{return false}}return true}var n={climit:1,rlimit:1};var t=e.extend(n,t);return this.each(function(){var t=e(this);var n=e("<span>",{"class":"mxCheckBox "+(this.checked?"checked":""),html:""});n.insertAfter(t.hide());n.click(function(){if(i(t,t.data("rlimit"))&&r(t,t.data("climit"))){n.toggleClass("checked");var e=n.hasClass("checked");t.attr("checked",e)}});t.bind("change",function(){n.click()})})}})(jQuery)